<mujoco model="tidybot_bimanual">
  <compiler angle="radian" meshdir="../meshes"/>

  <option integrator="implicitfast"/>
  <option cone="elliptic" impratio="10"/>

  <default>
    <default class="base">
      <default class="base/visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2"/>
      </default>
      <default class="base/collision">
        <geom type="mesh" group="3"/>
      </default>
    </default>

    <default class="wx250s">
      <default class="wx250s/visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2" rgba="0.3 0.3 0.3 1"/>
      </default>
      <default class="wx250s/collision">
        <geom type="mesh" group="3"/>
      </default>
      <default class="large_actuator">
        <position kp="2000" kv="100" forcerange="-105 105"/>
      </default>
      <default class="medium_actuator">
        <position kp="1500" kv="75" forcerange="-75 75"/>
      </default>
      <default class="small_actuator">
        <position kp="500" kv="50" forcerange="-25 25"/>
      </default>
    </default>

    <default class="2f85">
      <mesh scale="0.001 0.001 0.001"/>
      <general biastype="affine"/>

      <joint axis="1 0 0"/>
      <default class="driver">
        <joint range="0 0.8" armature="0.005" damping="0.1" solimplimit="0.95 0.99 0.001" solreflimit="0.005 1"/>
      </default>
      <default class="follower">
        <joint range="-0.872664 0.872664" armature="0.001" pos="0 -0.018 0.0065" solimplimit="0.95 0.99 0.001"
          solreflimit="0.005 1"/>
      </default>
      <default class="spring_link">
        <joint range="-0.29670597283 0.8" armature="0.001" stiffness="0.05" springref="2.62" damping="0.00125"/>
      </default>
      <default class="coupler">
        <joint range="-1.57 0" armature="0.001" solimplimit="0.95 0.99 0.001" solreflimit="0.005 1"/>
      </default>

      <default class="2f85/visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2"/>
      </default>
      <default class="2f85/collision">
        <geom type="mesh" group="3"/>
        <default class="pad_box1">
          <geom mass="0" type="box" pos="0 -0.0026 0.028125" size="0.011 0.004 0.009375" friction="0.7"
            solimp="0.95 0.99 0.001" solref="0.004 1" priority="1" rgba="0.55 0.55 0.55 1"/>
        </default>
        <default class="pad_box2">
          <geom mass="0" type="box" pos="0 -0.0026 0.009375" size="0.011 0.004 0.009375" friction="0.6"
            solimp="0.95 0.99 0.001" solref="0.004 1" priority="1" rgba="0.45 0.45 0.45 1"/>
        </default>
      </default>
    </default>

    <site size="0.001" rgba="0.5 0.5 0.5 0.3" group="4"/>
  </default>

  <asset>
    <material name="silver" rgba="0.75294118 0.75294118 0.75294118 1"/>
    <material name="black" rgba="0.30196078 0.30196078 0.30196078 1"/>
    <mesh file="base/body.stl"/>
    <mesh file="base/arm_plate.stl"/>

    <!-- WX250S arm meshes -->
    <mesh name="wx250s_base" file="wx250s/mobile_wx250s_1_base.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_shoulder" file="wx250s/mobile_wx250s_2_shoulder.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_upper_arm" file="wx250s/mobile_wx250s_3_upper_arm.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_upper_forearm" file="wx250s/mobile_wx250s_4_upper_forearm.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_lower_forearm" file="wx250s/mobile_wx250s_5_lower_forearm.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_wrist" file="wx250s/mobile_wx250s_6_wrist.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_gripper" file="wx250s/mobile_wx250s_7_gripper.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_gripper_prop" file="wx250s/mobile_wx250s_8_gripper_prop.stl" scale="0.001 0.001 0.001"/>
    <mesh name="wx250s_ar_tag" file="wx250s/mobile_wx250s_11_ar_tag.stl" scale="0.001 0.001 0.001"/>

    <material name="metal" rgba="0.58 0.58 0.58 1"/>
    <material name="silicone" rgba="0.1882 0.1882 0.1882 1"/>
    <material name="2f85/gray" rgba="0.4627 0.4627 0.4627 1"/>
    <material name="2f85/black" rgba="0.149 0.149 0.149 1"/>
    <mesh class="2f85" file="2f85/base.stl"/>
    <mesh class="2f85" file="2f85/driver.stl"/>
    <mesh class="2f85" file="2f85/coupler.stl"/>
    <mesh class="2f85" file="2f85/follower.stl"/>
    <mesh class="2f85" file="2f85/pad.stl"/>
    <mesh class="2f85" file="2f85/silicone_pad.stl"/>
    <mesh class="2f85" file="2f85/spring_link.stl"/>
  </asset>

  <worldbody>
    <body name="base_link">
      <inertial pos="0 0 0.035" mass="60" diaginertia="0.001 0.001 0.001"/>
      <joint name="joint_x" type="slide" axis="1 0 0"/>
      <joint name="joint_y" type="slide" axis="0 1 0"/>
      <joint name="joint_th"/>
      <geom class="base/visual" mesh="body" material="silver"/>
      <geom class="base/visual" mesh="arm_plate" material="black"/>
      <geom class="base/collision" mesh="body"/>
      <geom class="base/collision" mesh="arm_plate"/>
      <camera name="base" pos="0.2525 0 0.335" euler="0 -0.7853981634 -1.5707963268" fovy="52.23384539951277"
        resolution="640 360"/>

      <!-- ==================== RIGHT ARM ==================== -->
      <body name="right_arm_base_link" pos="0.1199 -0.15 0.3948">
        <geom class="wx250s/visual" mesh="wx250s_base" pos="-0.095773 0 -0.10565" quat="0.5 0.5 0.5 0.5"/>
        <geom class="wx250s/collision" mesh="wx250s_base" pos="-0.095773 0 -0.10565" quat="0.5 0.5 0.5 0.5"/>

        <body name="right_shoulder_link" pos="0 0 0.066175">
          <inertial pos="2.23482e-05 4.14609e-05 0.0066287" quat="0.0130352 0.706387 0.012996 0.707586" mass="0.480879" diaginertia="0.000588946 0.000555655 0.000378999"/>
          <joint name="right_waist" pos="0 0 0" axis="0 0 1" range="-3.14158 3.14158" damping="0.1"/>
          <geom class="wx250s/visual" mesh="wx250s_shoulder" pos="0 0 -0.003" quat="0.707107 0 0 0.707107"/>
          <geom class="wx250s/collision" mesh="wx250s_shoulder" pos="0 0 -0.003" quat="0.707107 0 0 0.707107"/>

          <body name="right_upper_arm_link" pos="0 0 0.03865">
            <inertial pos="0.0171605 2.725e-07 0.191323" quat="0.705539 0.0470667 -0.0470667 0.705539" mass="0.430811" diaginertia="0.00364425 0.003463 0.000399348"/>
            <joint name="right_shoulder" pos="0 0 0" axis="0 1 0" range="-1.88496 1.98968" damping="0.1"/>
            <geom class="wx250s/visual" mesh="wx250s_upper_arm" pos="0 0 0" quat="0.707107 0 0 0.707107"/>
            <geom class="wx250s/collision" mesh="wx250s_upper_arm" pos="0 0 0" quat="0.707107 0 0 0.707107"/>

            <body name="right_upper_forearm_link" pos="0.04975 0 0.25">
              <inertial pos="0.107963 0.000115876 0" quat="0.000980829 0.707106 -0.000980829 0.707106" mass="0.234589" diaginertia="0.000888 0.000887807 3.97035e-05"/>
              <joint name="right_elbow" pos="0 0 0" axis="0 1 0" range="-2.14675 1.6057" damping="0.1"/>
              <geom class="wx250s/visual" mesh="wx250s_upper_forearm"/>
              <geom class="wx250s/collision" mesh="wx250s_upper_forearm"/>

              <body name="right_lower_forearm_link" pos="0.175 0 0">
                <inertial pos="0.0374395 0.00522252 0" quat="-0.0732511 0.703302 0.0732511 0.703302" mass="0.220991" diaginertia="0.0001834 0.000172527 5.88633e-05"/>
                <joint name="right_forearm_roll" pos="0 0 0" axis="1 0 0" range="-3.14158 3.14158" damping="0.1"/>
                <geom class="wx250s/visual" mesh="wx250s_lower_forearm" pos="0 0 0" quat="0 1 0 0"/>
                <geom class="wx250s/collision" mesh="wx250s_lower_forearm" pos="0 0 0" quat="0 1 0 0"/>

                <body name="right_wrist_link" pos="0.075 0 0">
                  <inertial pos="0.04236 -1.0663e-05 0.010577" quat="0.608721 0.363497 -0.359175 0.606895" mass="0.084957" diaginertia="3.29057e-05 3.082e-05 2.68343e-05"/>
                  <joint name="right_wrist_angle" pos="0 0 0" axis="0 1 0" range="-1.74533 2.14675" damping="0.1"/>
                  <geom class="wx250s/visual" mesh="wx250s_wrist" pos="0 0 0" quat="0.707107 0 0 0.707107"/>
                  <geom class="wx250s/collision" mesh="wx250s_wrist" pos="0 0 0" quat="0.707107 0 0 0.707107"/>

                  <body name="right_gripper_link" pos="0.065 0 0">
                    <inertial pos="0.0226653 2.0287e-07 0.0162126" quat="0.998845 0.0243114 0.0412585 -0.00379047" mass="0.090392" diaginertia="0.00103863 0.00103221 0.00102335"/>
                    <joint name="right_wrist_rotate" pos="0 0 0" axis="1 0 0" range="-3.14158 3.14158" damping="0.1"/>
                    <geom class="wx250s/visual" mesh="wx250s_gripper" pos="-0.02 0 0" quat="0.707107 0 0 0.707107"/>
                    <geom class="wx250s/collision" mesh="wx250s_gripper" pos="-0.02 0 0" quat="0.707107 0 0 0.707107"/>
                    <geom class="wx250s/visual" mesh="wx250s_ar_tag" pos="0.026 0 0.04155" quat="0.707107 0 0 0.707107"/>

                    <body name="right_ee_arm_link" pos="0.043 0 0">
                      <inertial pos="0 0 0" mass="0.001" diaginertia="0.001 0.001 0.001"/>

                      <!-- Right Robotiq 2F-85 Gripper -->
                      <body name="right_gripper_base" pos="0 0 0" quat="0.5 0.5 0.5 0.5" childclass="2f85">
                        <inertial mass="0.777441" pos="0 -2.70394e-05 0.0354675" quat="1 -0.00152849 0 0"
                          diaginertia="0.000260285 0.000225381 0.000152708"/>
                        <geom class="2f85/visual" mesh="base" material="2f85/black"/>
                        <geom class="2f85/collision" mesh="base"/>

                        <body name="right_right_driver" pos="0 0.0306011 0.054904">
                          <inertial mass="0.00899563" pos="2.96931e-12 0.0177547 0.00107314"
                            quat="0.681301 0.732003 0 0" diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                          <joint name="right_right_driver_joint" class="driver"/>
                          <geom class="2f85/visual" mesh="driver" material="2f85/gray"/>
                          <geom class="2f85/collision" mesh="driver"/>
                          <body name="right_right_coupler" pos="0 0.0315 -0.0041">
                            <inertial mass="0.0140974" pos="0 0.00301209 0.0232175"
                              quat="0.705636 -0.0455904 0.0455904 0.705636"
                              diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                            <joint name="right_right_coupler_joint" class="coupler"/>
                            <geom class="2f85/visual" mesh="coupler" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="coupler"/>
                          </body>
                        </body>
                        <body name="right_right_spring_link" pos="0 0.0132 0.0609">
                          <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658"
                            quat="0.663403 -0.244737 0.244737 0.663403"
                            diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                          <joint name="right_right_spring_link_joint" class="spring_link"/>
                          <geom class="2f85/visual" mesh="spring_link" material="2f85/black"/>
                          <geom class="2f85/collision" mesh="spring_link"/>
                          <body name="right_right_follower" pos="0 0.055 0.0375">
                            <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                              diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                            <joint name="right_right_follower_joint" class="follower"/>
                            <geom class="2f85/visual" mesh="follower" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="follower"/>
                            <body name="right_right_pad" pos="0 -0.0189 0.01352">
                              <geom class="pad_box1" name="right_right_pad1"/>
                              <geom class="pad_box2" name="right_right_pad2"/>
                              <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="0.707107 0 0 0.707107"
                                diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                              <geom class="2f85/visual" mesh="pad"/>
                              <body name="right_right_silicone_pad">
                                <geom class="2f85/visual" mesh="silicone_pad" material="2f85/black"/>
                              </body>
                            </body>
                          </body>
                        </body>

                        <body name="right_left_driver" pos="0 -0.0306011 0.054904" quat="0 0 0 1">
                          <inertial mass="0.00899563" pos="0 0.0177547 0.00107314" quat="0.681301 0.732003 0 0"
                            diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                          <joint name="right_left_driver_joint" class="driver"/>
                          <geom class="2f85/visual" mesh="driver" material="2f85/gray"/>
                          <geom class="2f85/collision" mesh="driver"/>
                          <body name="right_left_coupler" pos="0 0.0315 -0.0041">
                            <inertial mass="0.0140974" pos="0 0.00301209 0.0232175"
                              quat="0.705636 -0.0455904 0.0455904 0.705636"
                              diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                            <joint name="right_left_coupler_joint" class="coupler"/>
                            <geom class="2f85/visual" mesh="coupler" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="coupler"/>
                          </body>
                        </body>
                        <body name="right_left_spring_link" pos="0 -0.0132 0.0609" quat="0 0 0 1">
                          <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658"
                            quat="0.663403 -0.244737 0.244737 0.663403"
                            diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                          <joint name="right_left_spring_link_joint" class="spring_link"/>
                          <geom class="2f85/visual" mesh="spring_link" material="2f85/black"/>
                          <geom class="2f85/collision" mesh="spring_link"/>
                          <body name="right_left_follower" pos="0 0.055 0.0375">
                            <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                              diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                            <joint name="right_left_follower_joint" class="follower"/>
                            <geom class="2f85/visual" mesh="follower" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="follower"/>
                            <body name="right_left_pad" pos="0 -0.0189 0.01352">
                              <geom class="pad_box1" name="right_left_pad1"/>
                              <geom class="pad_box2" name="right_left_pad2"/>
                              <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="1 0 0 1"
                                diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                              <geom class="2f85/visual" mesh="pad"/>
                              <body name="right_left_silicone_pad">
                                <geom class="2f85/visual" mesh="silicone_pad" material="2f85/black"/>
                              </body>
                            </body>
                          </body>
                        </body>
                      </body>

                      <camera name="right_wrist" pos="0 0 0.06" quat="0.707107 0.707107 0 0" fovy="41.83792730009236"
                        resolution="640 480"/>
                      <site name="right_pinch_site" pos="0 0 0.14" quat="0.707107 0.707107 0 0"/>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>

      <!-- ==================== LEFT ARM ==================== -->
      <body name="left_arm_base_link" pos="0.1199 0.15 0.3948">
        <geom class="wx250s/visual" mesh="wx250s_base" pos="-0.095773 0 -0.10565" quat="0.5 0.5 0.5 0.5"/>
        <geom class="wx250s/collision" mesh="wx250s_base" pos="-0.095773 0 -0.10565" quat="0.5 0.5 0.5 0.5"/>

        <body name="left_shoulder_link" pos="0 0 0.066175">
          <inertial pos="2.23482e-05 4.14609e-05 0.0066287" quat="0.0130352 0.706387 0.012996 0.707586" mass="0.480879" diaginertia="0.000588946 0.000555655 0.000378999"/>
          <joint name="left_waist" pos="0 0 0" axis="0 0 1" range="-3.14158 3.14158" damping="0.1"/>
          <geom class="wx250s/visual" mesh="wx250s_shoulder" pos="0 0 -0.003" quat="0.707107 0 0 0.707107"/>
          <geom class="wx250s/collision" mesh="wx250s_shoulder" pos="0 0 -0.003" quat="0.707107 0 0 0.707107"/>

          <body name="left_upper_arm_link" pos="0 0 0.03865">
            <inertial pos="0.0171605 2.725e-07 0.191323" quat="0.705539 0.0470667 -0.0470667 0.705539" mass="0.430811" diaginertia="0.00364425 0.003463 0.000399348"/>
            <joint name="left_shoulder" pos="0 0 0" axis="0 1 0" range="-1.88496 1.98968" damping="0.1"/>
            <geom class="wx250s/visual" mesh="wx250s_upper_arm" pos="0 0 0" quat="0.707107 0 0 0.707107"/>
            <geom class="wx250s/collision" mesh="wx250s_upper_arm" pos="0 0 0" quat="0.707107 0 0 0.707107"/>

            <body name="left_upper_forearm_link" pos="0.04975 0 0.25">
              <inertial pos="0.107963 0.000115876 0" quat="0.000980829 0.707106 -0.000980829 0.707106" mass="0.234589" diaginertia="0.000888 0.000887807 3.97035e-05"/>
              <joint name="left_elbow" pos="0 0 0" axis="0 1 0" range="-2.14675 1.6057" damping="0.1"/>
              <geom class="wx250s/visual" mesh="wx250s_upper_forearm"/>
              <geom class="wx250s/collision" mesh="wx250s_upper_forearm"/>

              <body name="left_lower_forearm_link" pos="0.175 0 0">
                <inertial pos="0.0374395 0.00522252 0" quat="-0.0732511 0.703302 0.0732511 0.703302" mass="0.220991" diaginertia="0.0001834 0.000172527 5.88633e-05"/>
                <joint name="left_forearm_roll" pos="0 0 0" axis="1 0 0" range="-3.14158 3.14158" damping="0.1"/>
                <geom class="wx250s/visual" mesh="wx250s_lower_forearm" pos="0 0 0" quat="0 1 0 0"/>
                <geom class="wx250s/collision" mesh="wx250s_lower_forearm" pos="0 0 0" quat="0 1 0 0"/>

                <body name="left_wrist_link" pos="0.075 0 0">
                  <inertial pos="0.04236 -1.0663e-05 0.010577" quat="0.608721 0.363497 -0.359175 0.606895" mass="0.084957" diaginertia="3.29057e-05 3.082e-05 2.68343e-05"/>
                  <joint name="left_wrist_angle" pos="0 0 0" axis="0 1 0" range="-1.74533 2.14675" damping="0.1"/>
                  <geom class="wx250s/visual" mesh="wx250s_wrist" pos="0 0 0" quat="0.707107 0 0 0.707107"/>
                  <geom class="wx250s/collision" mesh="wx250s_wrist" pos="0 0 0" quat="0.707107 0 0 0.707107"/>

                  <body name="left_gripper_link" pos="0.065 0 0">
                    <inertial pos="0.0226653 2.0287e-07 0.0162126" quat="0.998845 0.0243114 0.0412585 -0.00379047" mass="0.090392" diaginertia="0.00103863 0.00103221 0.00102335"/>
                    <joint name="left_wrist_rotate" pos="0 0 0" axis="1 0 0" range="-3.14158 3.14158" damping="0.1"/>
                    <geom class="wx250s/visual" mesh="wx250s_gripper" pos="-0.02 0 0" quat="0.707107 0 0 0.707107"/>
                    <geom class="wx250s/collision" mesh="wx250s_gripper" pos="-0.02 0 0" quat="0.707107 0 0 0.707107"/>
                    <geom class="wx250s/visual" mesh="wx250s_ar_tag" pos="0.026 0 0.04155" quat="0.707107 0 0 0.707107"/>

                    <body name="left_ee_arm_link" pos="0.043 0 0">
                      <inertial pos="0 0 0" mass="0.001" diaginertia="0.001 0.001 0.001"/>

                      <!-- Left Robotiq 2F-85 Gripper -->
                      <body name="left_gripper_base" pos="0 0 0" quat="0.5 0.5 0.5 0.5" childclass="2f85">
                        <inertial mass="0.777441" pos="0 -2.70394e-05 0.0354675" quat="1 -0.00152849 0 0"
                          diaginertia="0.000260285 0.000225381 0.000152708"/>
                        <geom class="2f85/visual" mesh="base" material="2f85/black"/>
                        <geom class="2f85/collision" mesh="base"/>

                        <body name="left_right_driver" pos="0 0.0306011 0.054904">
                          <inertial mass="0.00899563" pos="2.96931e-12 0.0177547 0.00107314"
                            quat="0.681301 0.732003 0 0" diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                          <joint name="left_right_driver_joint" class="driver"/>
                          <geom class="2f85/visual" mesh="driver" material="2f85/gray"/>
                          <geom class="2f85/collision" mesh="driver"/>
                          <body name="left_right_coupler" pos="0 0.0315 -0.0041">
                            <inertial mass="0.0140974" pos="0 0.00301209 0.0232175"
                              quat="0.705636 -0.0455904 0.0455904 0.705636"
                              diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                            <joint name="left_right_coupler_joint" class="coupler"/>
                            <geom class="2f85/visual" mesh="coupler" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="coupler"/>
                          </body>
                        </body>
                        <body name="left_right_spring_link" pos="0 0.0132 0.0609">
                          <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658"
                            quat="0.663403 -0.244737 0.244737 0.663403"
                            diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                          <joint name="left_right_spring_link_joint" class="spring_link"/>
                          <geom class="2f85/visual" mesh="spring_link" material="2f85/black"/>
                          <geom class="2f85/collision" mesh="spring_link"/>
                          <body name="left_right_follower" pos="0 0.055 0.0375">
                            <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                              diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                            <joint name="left_right_follower_joint" class="follower"/>
                            <geom class="2f85/visual" mesh="follower" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="follower"/>
                            <body name="left_right_pad" pos="0 -0.0189 0.01352">
                              <geom class="pad_box1" name="left_right_pad1"/>
                              <geom class="pad_box2" name="left_right_pad2"/>
                              <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="0.707107 0 0 0.707107"
                                diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                              <geom class="2f85/visual" mesh="pad"/>
                              <body name="left_right_silicone_pad">
                                <geom class="2f85/visual" mesh="silicone_pad" material="2f85/black"/>
                              </body>
                            </body>
                          </body>
                        </body>

                        <body name="left_left_driver" pos="0 -0.0306011 0.054904" quat="0 0 0 1">
                          <inertial mass="0.00899563" pos="0 0.0177547 0.00107314" quat="0.681301 0.732003 0 0"
                            diaginertia="1.72352e-06 1.60906e-06 3.22006e-07"/>
                          <joint name="left_left_driver_joint" class="driver"/>
                          <geom class="2f85/visual" mesh="driver" material="2f85/gray"/>
                          <geom class="2f85/collision" mesh="driver"/>
                          <body name="left_left_coupler" pos="0 0.0315 -0.0041">
                            <inertial mass="0.0140974" pos="0 0.00301209 0.0232175"
                              quat="0.705636 -0.0455904 0.0455904 0.705636"
                              diaginertia="4.16206e-06 3.52216e-06 8.88131e-07"/>
                            <joint name="left_left_coupler_joint" class="coupler"/>
                            <geom class="2f85/visual" mesh="coupler" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="coupler"/>
                          </body>
                        </body>
                        <body name="left_left_spring_link" pos="0 -0.0132 0.0609" quat="0 0 0 1">
                          <inertial mass="0.0221642" pos="-8.65005e-09 0.0181624 0.0212658"
                            quat="0.663403 -0.244737 0.244737 0.663403"
                            diaginertia="8.96853e-06 6.71733e-06 2.63931e-06"/>
                          <joint name="left_left_spring_link_joint" class="spring_link"/>
                          <geom class="2f85/visual" mesh="spring_link" material="2f85/black"/>
                          <geom class="2f85/collision" mesh="spring_link"/>
                          <body name="left_left_follower" pos="0 0.055 0.0375">
                            <inertial mass="0.0125222" pos="0 -0.011046 0.0124786" quat="1 0.1664 0 0"
                              diaginertia="2.67415e-06 2.4559e-06 6.02031e-07"/>
                            <joint name="left_left_follower_joint" class="follower"/>
                            <geom class="2f85/visual" mesh="follower" material="2f85/black"/>
                            <geom class="2f85/collision" mesh="follower"/>
                            <body name="left_left_pad" pos="0 -0.0189 0.01352">
                              <geom class="pad_box1" name="left_left_pad1"/>
                              <geom class="pad_box2" name="left_left_pad2"/>
                              <inertial mass="0.0035" pos="0 -0.0025 0.0185" quat="1 0 0 1"
                                diaginertia="4.73958e-07 3.64583e-07 1.23958e-07"/>
                              <geom class="2f85/visual" mesh="pad"/>
                              <body name="left_left_silicone_pad">
                                <geom class="2f85/visual" mesh="silicone_pad" material="2f85/black"/>
                              </body>
                            </body>
                          </body>
                        </body>
                      </body>

                      <camera name="left_wrist" pos="0 0 0.06" quat="0.707107 0.707107 0 0" fovy="41.83792730009236"
                        resolution="640 480"/>
                      <site name="left_pinch_site" pos="0 0 0.14" quat="0.707107 0.707107 0 0"/>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <contact>
    <!-- Right gripper contact exclusions -->
    <exclude body1="right_gripper_base" body2="right_left_driver"/>
    <exclude body1="right_gripper_base" body2="right_right_driver"/>
    <exclude body1="right_gripper_base" body2="right_left_spring_link"/>
    <exclude body1="right_gripper_base" body2="right_right_spring_link"/>
    <exclude body1="right_right_coupler" body2="right_right_follower"/>
    <exclude body1="right_left_coupler" body2="right_left_follower"/>
    <!-- Left gripper contact exclusions -->
    <exclude body1="left_gripper_base" body2="left_left_driver"/>
    <exclude body1="left_gripper_base" body2="left_right_driver"/>
    <exclude body1="left_gripper_base" body2="left_left_spring_link"/>
    <exclude body1="left_gripper_base" body2="left_right_spring_link"/>
    <exclude body1="left_right_coupler" body2="left_right_follower"/>
    <exclude body1="left_left_coupler" body2="left_left_follower"/>
  </contact>

  <tendon>
    <fixed name="right_split">
      <joint joint="right_right_driver_joint" coef="0.5"/>
      <joint joint="right_left_driver_joint" coef="0.5"/>
    </fixed>
    <fixed name="left_split">
      <joint joint="left_right_driver_joint" coef="0.5"/>
      <joint joint="left_left_driver_joint" coef="0.5"/>
    </fixed>
  </tendon>

  <equality>
    <!-- Right gripper constraints -->
    <connect anchor="0 0 0" body1="right_right_follower" body2="right_right_coupler" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <connect anchor="0 0 0" body1="right_left_follower" body2="right_left_coupler" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <joint joint1="right_right_driver_joint" joint2="right_left_driver_joint" polycoef="0 1 0 0 0" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <!-- Left gripper constraints -->
    <connect anchor="0 0 0" body1="left_right_follower" body2="left_right_coupler" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <connect anchor="0 0 0" body1="left_left_follower" body2="left_left_coupler" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    <joint joint1="left_right_driver_joint" joint2="left_left_driver_joint" polycoef="0 1 0 0 0" solimp="0.95 0.99 0.001" solref="0.005 1"/>
  </equality>

  <actuator>
    <!-- Base actuators -->
    <position name="joint_x" joint="joint_x" kp="1000000" kv="50000"/>
    <position name="joint_y" joint="joint_y" kp="1000000" kv="50000"/>
    <position name="joint_th" joint="joint_th" kp="50000" kv="1000"/>

    <!-- Right WX250S arm actuators -->
    <position class="small_actuator" name="right_waist" joint="right_waist"/>
    <position class="large_actuator" name="right_shoulder" joint="right_shoulder"/>
    <position class="medium_actuator" name="right_elbow" joint="right_elbow"/>
    <position class="small_actuator" name="right_forearm_roll" joint="right_forearm_roll"/>
    <position class="small_actuator" name="right_wrist_angle" joint="right_wrist_angle"/>
    <position class="small_actuator" name="right_wrist_rotate" joint="right_wrist_rotate"/>

    <!-- Right gripper actuator -->
    <general class="2f85" name="right_fingers_actuator" tendon="right_split" forcerange="-5 5" ctrlrange="0 255"
      gainprm="0.3137255 0 0" biasprm="0 -100 -10"/>

    <!-- Left WX250S arm actuators -->
    <position class="small_actuator" name="left_waist" joint="left_waist"/>
    <position class="large_actuator" name="left_shoulder" joint="left_shoulder"/>
    <position class="medium_actuator" name="left_elbow" joint="left_elbow"/>
    <position class="small_actuator" name="left_forearm_roll" joint="left_forearm_roll"/>
    <position class="small_actuator" name="left_wrist_angle" joint="left_wrist_angle"/>
    <position class="small_actuator" name="left_wrist_rotate" joint="left_wrist_rotate"/>

    <!-- Left gripper actuator -->
    <general class="2f85" name="left_fingers_actuator" tendon="left_split" forcerange="-5 5" ctrlrange="0 255"
      gainprm="0.3137255 0 0" biasprm="0 -100 -10"/>
  </actuator>

  <keyframe>
    <key name="home" qpos="0 0 0
      0 0 0 0 0 0 0 0 0 0 0 0 0 0
      0 0 0 0 0 0 0 0 0 0 0 0 0 0"
      ctrl="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"/>
    <key name="retract" qpos="0 0 0
      0 -0.5 1.57 -1.57 0 0 0 0 0 0 0 0 0 0
      0 -0.5 1.57 -1.57 0 0 0 0 0 0 0 0 0 0"
      ctrl="0 0 0 0 -0.5 1.57 -1.57 0 0 0 0 -0.5 1.57 -1.57 0 0 0"/>
  </keyframe>
</mujoco>
